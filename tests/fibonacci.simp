#!/usr/bin/env simplang

beglp
    getopt r0 "Enter Fibonacci digit to calculate up to: "
    ifle r0 0
        print "Please enter a number greater than 0"
        asgn r0 0
        cont
    endif
endlpeq 0 0

; r1 will be the current digit, r2 and r3 will be the prior two,
; r7 is our iterator

asgn r2 1
asgn r3 1

ifeq r7 0
    print 1
    ifgt r0 1
        incr r7
    endif
endif
ifeq r7 1
    print 1
    ifgt r0 2
        incr r7
    endif
endif
ifgt r0 2
    beglp
       asgn r1 0
       add r1 r2
       add r1 r3
       asgn r3 r2
       asgn r2 r1
       print r1
       incr r7
    endlpeq r0 r7
endif

done
