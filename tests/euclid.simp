#!/usr/bin/env simplang

; Get the two numbers to operate on from the user
; They can be passed in as command line arguments,
; in which case we can skip prompting for the number
ifeq r0 0
    printn "Enter first number: "
    geti r0
endif
ifeq r1 0
    printn "Enter second number: "
    geti r1
endif

; Store the initial values in r2 and r3 so that we
; can print them at the end
asgn r2 r0
asgn r3 r1

; Calculate the GCD using Euclid's algorithm
beglp
    asgn r4 r1
    mod r1 r0 r1
    asgn r0 r4
endlpeq r1 0

; Form and print the final output
printn "The GCD of "
printn r2
printn " and "
printn r3
printn " is "
print r0

done
