#!/usr/bin/env simplang

; Initialize string literals
ldstr s0 "Unsorted: "
ldstr s1 "Sotrted: "

rand r0 1000
rand r1 1000
rand r2 1000
rand r3 1000
rand r4 1000
rand r5 1000
rand r6 1000

print_s s0
print r0
print r1
print r2
print r3
print r4
print r5
print r6

asgn r7 7

; Since Simplang doesn't support arrays, this can't be done using
; nested loops. Instead, r7 is used to track the furthest unsorted
; register, and the loop will skip iterating over registers it's
; already sorted as it sorts r0 - r6
beglp
    ifle 2 r7
        iflt r1 r0
            swp r0 r1
        endif
    endif
    ifle 3 r7
        iflt r2 r1
            swp r1 r2
        endif
    endif
    ifle 4 r7
        iflt r3 r2
            swp r2 r3
        endif
    endif
    ifle 5 r7
        iflt r4 r3
            swp r3 r4
        endif
    endif
    ifle 6 r7
        iflt r5 r4
            swp r4 r5
        endif
    endif
    ifle 7 r7
        iflt r6 r5
            swp r5 r6
        endif
    endif

    decr r7
endlpeq r7 0

print_s s1
print r0
print r1
print r2
print r3
print r4
print r5
print r6

done
