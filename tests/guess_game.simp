#!/usr/bin/env simplang

; Initialize string literals
ldstr s0 "Enter your guess: "
ldstr s1 "Your guess was too low, try again"
ldstr s2 "Your guess was too high, try again"
ldstr s3 "Remember, the range of the random number is 1 to 100 inclusive"

; Generates the random number
; Since Simplang's rand instruction generates a number
; between 0 and a2 - 1, we increment the generated number
; to put it in the range 1-100
rand r0 100
incr r0

print "Welcome to Guess the Number, see how many guesses it takes to guess a number between 1 and 100!"
beglp
    printn s0
    geti r1

    ; If the user guesses a number that's not between 1-100,
    ; print a message stating such and restart the loop without
    ; a guess penalty
    iflt 100 r1
        print s3
        cont
    endif
    ifle r1 0
        print s3
        cont
    endif

    ; Display the proper message depending on whether the user's
    ; guess was too low or too high
    iflt r1 r0
        print s1
    endif
    iflt r0 r1
        print s2
    endif

    ; Increment the guess counter
    incr r2
endlpeq r0 r1

; Print the success message
printn "Congratulations, you guessed it in "
printn r2
print " guesses!"

done
