#!/usr/bin/env simplang

; Initialize string literals
ldstr r8 "Remember, the range of the random number is 1 to 100 inclusive"

; Generates the random number
; Since Simplang's rand instruction generates a number
; between 0 and a2 - 1, we increment the generated number
; to put it in the range 1-100
rand r0 100
incr r0

print "Welcome to Guess the Number, see how many guesses it takes to guess a number between 1 and 100!"
beglp
    printn "Enter your guess: "
    geti r1

    ; If the user guesses a number that's not between 1-100,
    ; print a message stating such and restart the loop without
    ; a guess penalty
    ifgt r1 100
        print r8
        cont
    endif
    ifle r1 0
        print r8
        cont
    endif

    ; Display the proper message depending on whether the user's
    ; guess was too low or too high
    iflt r1 r0
        print "Your guess was too low, try again"
    endif
    ifgt r1 r0
        print "Your guess was too high, try again"
    endif

    ; Increment the guess counter
    incr r2
endlpeq r0 r1

; Print the success message
printn "Congratulations, you guessed it in "
printn r2
print " guesses!"

done
